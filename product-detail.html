<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Product Detail - Arif Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root { --primary: #e63946; --dark: #1d3557; }
    body { font-family: 'Poppins', sans-serif; background: #f8f9fa; padding-top: 90px; }
    .product-img { max-height: 500px; object-fit: contain; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.12); }
    .price { font-size: 2.8rem; font-weight: 700; color: var(--primary); }
    .old-price { font-size: 1.6rem; color: #777; text-decoration: line-through; margin-left: 12px; }
    .btn-lg { padding: 12px 32px; font-size: 1.1rem; }
    .whatsapp-float { position: fixed; bottom: 25px; right: 25px; width: 62px; height: 62px; background: #25d366; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 34px; box-shadow: 0 5px 25px rgba(0,0,0,0.4); z-index: 1000; animation: pulse 2s infinite; }
    @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(37,211,102,0.7); } 70% { box-shadow: 0 0 0 18px rgba(37,211,102,0); } 100% { box-shadow: 0 0 0 0 rgba(37,211,102,0); } }
  </style>
</head>
<body>

<a href="https://wa.me/923439851166" target="_blank" class="whatsapp-float">
  <i class="fab fa-whatsapp"></i>
</a>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg fixed-top py-3">
  <div class="container">
    <a class="navbar-brand fw-bold fs-3" href="index.html">
      <img src="logos/Dark Brown and Brown Initial Studio Logo Design.png" width="50" height="50" alt="Arif Store">
      <span class="text-primary ms-2">Arif Store</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNav">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav mx-auto fw-medium">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="product.html">Products</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        </ul>
        <a href="cart.html" class="btn btn-outline-primary rounded-pill px-4 position-relative">
          <i class="fas fa-shopping-cart"></i> Cart
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-badge cart-count">0</span>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Main Content -->
<div class="container my-5">
  <div class="row g-5">
    <div class="col-lg-6">
      <img id="prodImg" class="product-img img-fluid" src="" alt="Product">
    </div>

    <div class="col-lg-6">
      <h1 id="prodTitle" class="mb-3"></h1>
      <p class="text-muted fs-5 mb-4">High Quality • In Stock • Fast Delivery in Lahore</p>

      <div class="mb-4">
        <span class="price" id="prodPrice"></span>
        <span class="old-price" id="oldPrice"></span>
      </div>

      <p class="lead mb-4">تازہ ترین اسٹاک میں دستیاب ہے۔ بہترین معیار اور قیمت۔</p>

      <div class="d-flex align-items-center gap-4 mb-5">
        <div class="input-group w-50">
          <button class="btn btn-outline-secondary">-</button>
          <input type="number" class="form-control text-center" value="1" min="1"/>
          <button class="btn btn-outline-secondary">+</button>
        </div>
        <button class="btn btn-primary btn-lg px-5" id="addHere">Add to Cart</button>
      </div>

      <a id="waOrder" href="#" class="btn btn-success btn-lg px-5" target="_blank">
        <i class="fab fa-whatsapp me-2"></i> Order on WhatsApp
      </a>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="py-5 mt-5" style="background: #1d3557; color: white;">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <h4><img src="images/logo.png" height="50" alt=""> Arif Store</h4>
        <p>Your trusted local store for daily needs.</p>
      </div>
      <div class="col-md-4">
        <h5>Quick Links</h5>
        <ul class="list-unstyled">
          <li><a href="index.html" class="text-white">Home</a></li>
          <li><a href="product.html" class="text-white">Products</a></li>
          <li><a href="about.html" class="text-white">About</a></li>
          <li><a href="contact.html" class="text-white">Contact</a></li>
        </ul>
      </div>
      <div class="col-md-4 text-md-end">
        <h5>Connect With Us</h5>
        <div class="fs-3">
          <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
          <a href="#" class="text-white me-3"><i class="fab fa-facebook"></i></a>
          <a href="https://wa.me/923439851166" class="text-white"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>
    </div>
    <hr>
    <p class="text-center mb-0">© 2025 Arif Store • Made with ❤️ in Pakistan</p>
  </div>
</footer>

<script>
  // تمام پروڈکٹس کا ڈیٹا
  const products = {
    "shama-oil-5l":          { title: "Shama Oil 5 Liter",            price: "Rs 1,399", oldPrice: "Rs 1,649", img: "./images/oil shama.jpeg" },
    "soya-supreme-5l":       { title: "Soya Supreme 5 Liter",         price: "Rs 1,599", oldPrice: "",        img: "./images/oil soya supreme.jpeg" },
    "dalda-oil-5l":          { title: "Dalda Oil 5 Liter Tin",        price: "Rs 1,480", oldPrice: "",        img: "images/daldaoil.jpeg" },
    "rabi-oil-5l":           { title: "Rabi Oil 5 Liter",             price: "Rs 1,420", oldPrice: "",        img: "images/oil rabi.jpeg" },
    "royal-basmati-5kg":     { title: "Royal Basmati 5kg",            price: "Rs 950",   oldPrice: "",        img: "images/basmati rice.jpeg" },
    "ideal-rice-10kg":       { title: "Ideal Rice 10kg",              price: "Rs 1,199", oldPrice: "",        img: "images/ideal rice.jpeg" },
    "white-rice-10kg":       { title: "White Rice 10kg",              price: "Rs 799",   oldPrice: "",        img: "images/white rice.jpeg" },
    "mughal-super-basmati-5kg": { title: "Mughal Super Basmati 5kg",  price: "Rs 1,050", oldPrice: "",        img: "images/mughal rice.jpeg" },
    "head-shoulders-680ml":  { title: "Head & Shoulders 680ml",       price: "Rs 549",   oldPrice: "",        img: "images/head shoulder shampoo.jpeg" },
    "lifebuoy-shampoo-650ml":{ title: "Lifebuoy Shampoo 650ml",       price: "Rs 399",   oldPrice: "",        img: "images/lifebouy2.jpeg" },
    "sunsilk-black-650ml":   { title: "Sunsilk Black 650ml",          price: "Rs 420",   oldPrice: "",        img: "images/sunslik shampoo.jpeg" },
    "dove-intense-repair-680ml": { title: "Dove Intense Repair 680ml",price: "Rs 499",   oldPrice: "",        img: "images/dove shampoo.jpeg" },
    "safeguard-pack4":       { title: "Safeguard Pack of 4",          price: "Rs 299",   oldPrice: "",        img: "images/safeguard soap.jpeg" },
    "lux-pack5":             { title: "Lux Pack of 5",                price: "Rs 349",   oldPrice: "",        img: "images/lux soap.webp" },
    "lifebouy-pack4":        { title: "Lifebuoy Pack of 4",           price: "Rs 279",   oldPrice: "",        img: "images/lifebouy soap.jpeg" },
    "palmolive-pack3":       { title: "Palmolive Pack of 3",          price: "Rs 399",   oldPrice: "",        img: "images/palmolive soap.jpeg" },
    "max-dish-bar-750g":     { title: "Max Dish Bar 750g",            price: "Rs 149",   oldPrice: "",        img: "images/max 1.jpeg" },
    "vim-liquid-1l":         { title: "Vim Liquid 1 Liter",           price: "Rs 199",   oldPrice: "",        img: "images/vim 1.jpeg" },
    "dawn-dishwash-500ml":   { title: "Dawn Dishwash 500ml",          price: "Rs 179",   oldPrice: "",        img: "./images/dawn 1.jpeg" },
    "fairy-liquid-1l":       { title: "Fairy Liquid 1 Liter",         price: "Rs 399",   oldPrice: "",        img: "images/FAIRY 1.jpeg" },
    "sooper-family-pack":    { title: "Sooper Family Pack",           price: "Rs 120",   oldPrice: "",        img: "images/super.jpeg" },
    "rio-pack12":            { title: "Rio Pack of 12",               price: "Rs 150",   oldPrice: "",        img: "images/rio.jpeg" },
    "tuc-pack6":             { title: "Tuc Pack of 6",                price: "Rs 100",   oldPrice: "",        img: "images/tuc.jpeg" },
    "peanut-pik-family":     { title: "Peanut Pik Family Pack",       price: "Rs 130",   oldPrice: "",        img: "images/peanut.jpeg" },
    "ariel-2kg":             { title: "Ariel 2kg",                    price: "Rs 799",   oldPrice: "",        img: "images/ariel.jpeg" },
    "brite-1kg":             { title: "Brite 1kg",                    price: "Rs 399",   oldPrice: "",        img: "images/brite.jpeg" },
    "rin-2kg":               { title: "Rin 2kg",                      price: "Rs 649",   oldPrice: "",        img: "images/rin.jpeg" },
    "surf-excel-2kg":        { title: "Surf Excel 2kg",               price: "Rs 899",   oldPrice: "",        img: "images/surfexcel.jpeg" },
    "pepsi-1.5l":            { title: "Pepsi 1.5 Liter",              price: "Rs 90",    oldPrice: "",        img: "images/pepsi.jpeg" },
    "cocacola-1.5l":         { title: "Coca Cola 1.5 Liter",          price: "Rs 95",    oldPrice: "",        img: "images/coca&cola 1.jpeg" },
    "7up-1.5l":              { title: "7UP 1.5 Liter",                price: "Rs 85",    oldPrice: "",        img: "images/7up.jpeg" },
    "mountain-dew-1.5l":     { title: "Mountain Dew 1.5 Liter",       price: "Rs 90",    oldPrice: "",        img: "images/dew1.jpeg" },
    "ponds-facewash-100g":   { title: "Ponds Face Wash 100g",         price: "Rs 249",   oldPrice: "",        img: "images/ponds facewash.jpeg" },
    "golden-pearl-150ml":    { title: "Golden Pearl 150ml",           price: "Rs 399",   oldPrice: "",        img: "images/golden pearl.jpeg" },
    "clearstem-100ml":       { title: "Clearstem 100ml",              price: "Rs 329",   oldPrice: "",        img: "./images/facewash.jpg" },
    "fair-lovely-100g":      { title: "Fair & Lovely 100g",           price: "Rs 199",   oldPrice: "",        img: "./images/fair lovely.jpeg" }
  };

  // پروڈکٹ لوڈ کرنا
  const urlParams = new URLSearchParams(window.location.search);
  const id = urlParams.get('id') || 'not-found';

  const prod = products[id] || {
    title: "پروڈکٹ نہیں ملی",
    price: "N/A",
    oldPrice: "",
    img: "https://via.placeholder.com/600x500?text=Not+Found"
  };

  document.getElementById("prodTitle").textContent = prod.title;
  document.getElementById("prodPrice").textContent = prod.price;
  document.getElementById("oldPrice").textContent = prod.oldPrice || "";
  document.getElementById("prodImg").src = prod.img;
  document.getElementById("prodImg").alt = prod.title;

  const waLink = document.getElementById("waOrder");
  waLink.href = `https://wa.me/923439851166?text=I%20want%20to%20buy%20${encodeURIComponent(prod.title)}%20-%20Arif%20Store`;

  // کارٹ بیج اپ ڈیٹ فنکشن
  function updateCartBadge() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let total = cart.reduce((sum, item) => sum + (item.quantity || 0), 0);

    document.querySelectorAll('.cart-count, .cart-badge').forEach(el => {
      el.textContent = total;
    });
  }

  // Add to Cart بٹن فعال کرنا
  const addBtn = document.getElementById("addHere");
  if (addBtn) {
    addBtn.addEventListener("click", function () {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];

      const cleanPrice = parseFloat(prod.price.replace(/[^0-9.]/g, ''));

      let item = cart.find(i => i.id === id);

      if (item) {
        item.quantity += 1;  // ہر بار صرف +1
      } else {
        cart.push({
          id: id,
          title: prod.title,
          price: cleanPrice,
          quantity: 1,
          img: prod.img
        });
      }

      localStorage.setItem("cart", JSON.stringify(cart));

      // فیڈبیک
      const originalText = this.innerText;
      this.innerText = "Added ✓";
      setTimeout(() => { this.innerText = originalText; }, 1500);

      // فوراً بیج اپ ڈیٹ
      updateCartBadge();

      // تمام اوپن ٹیبز/ونڈوز کو بتانے کے لیے
      localStorage.setItem("cart-updated", Date.now());
    });
  }

  // صفحہ لوڈ ہوتے ہی بیج اپ ڈیٹ
  updateCartBadge();

  // جب کوئی اور ٹیب سے کارٹ تبدیل ہو تو بھی اپ ڈیٹ ہو جائے
  window.addEventListener('storage', (e) => {
    if (e.key === 'cart' || e.key === 'cart-updated') {
      updateCartBadge();
    }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>